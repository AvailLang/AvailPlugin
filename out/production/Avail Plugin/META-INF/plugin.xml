<idea-plugin>
  <id>org.availlang</id>
  <name>Avail</name>
  <version>1.0</version>
  <vendor url="http://www.availlang.org/">Avail Foundation</vendor>

  <description><![CDATA[
      A plugin for all things Avail!
    ]]></description>

  <change-notes><![CDATA[
      There is where there once wasn't...
    ]]>
  </change-notes>

  <!-- please see http://www.jetbrains.org/intellij/sdk/docs/basics/getting_started/build_number_ranges.html for description -->
  <idea-version since-build="173.0"/>

  <!-- please see http://www.jetbrains.org/intellij/sdk/docs/basics/getting_started/plugin_compatibility.html
       on how to target different products -->
  <!-- uncomment to enable plugin in all products
  <depends>com.intellij.modules.lang</depends>
  -->

  <extensions defaultExtensionNs="com.intellij">
    <fileTypeFactory implementation="org.availlang.plugin.file.AvailFileTypeFactory"/>
    <fileTypeFactory implementation="org.availlang.plugin.file.AvailRepoFileTypeFactory"/>
    <!--<fileTypeFactory implementation="org.availlang.plugin.file.AvailDirectoryFileTypeFactory"/>-->

    <lang.parserDefinition language="Avail" implementationClass="org.availlang.plugin.parser.AvailParserDefinition"/>
  </extensions>

  <application-components>
    <!--This is where we add the ApplicationComponents from core-->
    <component>
      <implementation-class>org.availlang.plugin.core.AvailComponent</implementation-class>
    </component>
  </application-components>

  <actions>
    <!--<group id="BuildGroup" text="Build Avail Module" popup="false">-->
      <!--<add-to-group group-id="ProjectViewPopupMenuRunGroup" />-->
      <!--<add-to-group group-id="EditorTabPopupMenu" />-->
      <!--<add-to-group group-id="EditorTabPopupMenu"/>-->
      <!--<add-to-group group-id="ConsoleEditorPopupMenu"/>-->
      <!--<action id="org.availlang.plugin.build.ProjectBuildModule"-->
              <!--class="org.availlang.plugin.build.BuildModule"-->
              <!--text="Build Avail Module"-->
              <!--description="The Avail build action for a module">-->
      <!--</action>-->
    <!--</group>-->
    <action id="org.availlang.plugin.build.FileTabBuildModule"
            class="org.availlang.plugin.build.BuildModule"
            text="Build Avail Module"
            description="The Avail build action for a module">
      <add-to-group group-id="ProjectViewPopupMenuRunGroup" anchor="last"/>
      <add-to-group group-id="EditorPopupMenu"/>
      <add-to-group group-id="EditorTabPopupMenu"/>
      <add-to-group group-id="ConsoleEditorPopupMenu"/>
    </action>
    <!--<action id="org.availlang.plugin.build.TestRunAllTests"-->
            <!--class="org.availlang.plugin.build.TestRunAllTests"-->
            <!--text="[Test] Run all tests"-->
            <!--description="Run all Avail tests">-->
      <!--<add-to-group group-id="ProjectViewCompileGroup" anchor="last"/>-->
    <!--</action>-->
    <action id="org.availlang.plugin.actions.RunEntryPoint"
            class="org.availlang.plugin.actions.RunEntryPoint"
            text="Run Entry Point"
            description="Run an Avail enyry point">
      <add-to-group group-id="ProjectViewCompileGroup" anchor="last"/>
    </action>
    <!--<action id="org.availlang.plugin.build.BuildRoot"-->
            <!--class="org.availlang.plugin.build.TestRunAllTests" text="Avail Root"-->
            <!--description="build a root">-->
      <!--<add-to-group group-id="MarkRootGroup" anchor="last"/>-->
    <!--</action>-->
    <!-- The <group> element defines an action group. <action>, <group> and
      <separator> elements defined within it are automatically included in the group.
      The mandatory "id" attribute specifies an unique identifier for the action.
      The optional "class" attribute specifies the full-qualified name of
      the class implementing the group. If not specified,
      com.intellij.openapi.actionSystem.DefaultActionGroup is used.
      The optional "text" attribute specifies the text of the group (text
      for the menu item showing the submenu).
      The optional "description" attribute specifies the text which is displayed
      in the status bar when the group is focused.
      The optional "icon" attribute specifies the icon which is displayed on
      the toolbar button or next to the group.
      The optional "popup" attribute specifies how the group is presented in
      the menu. If a group has popup="true", actions in it are placed in a
      submenu; for popup="false", actions are displayed as a section of the
      same menu delimited by separators. -->
    <group id="BuildRootGroup" class="org.availlang.plugin.actions.groups.BuildRootGroup" popup="true"
           text="Avail Roots" description="Build Avail roots">
      <add-to-group group-id="BuildMenu" anchor="last"/>
      <add-to-group group-id="ProjectViewCompileGroup" anchor="last"/>
    </group>
    <!--<action id="org.availlang.plugin.build.TestRunAllTests"-->
            <!--class="org.availlang.plugin.build.TestRunAllTests" text="Do it!"-->
            <!--description="Do it">-->
      <!--<add-to-group group-id="MarkRootGroup" anchor="first"/>-->
    <!--</action>-->
  </actions>

</idea-plugin>